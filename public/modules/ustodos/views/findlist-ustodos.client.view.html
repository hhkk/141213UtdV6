<div ng-app>

    <div ng-address-bar></div><br>

    <section data-ng-controller="UstodosController" ng-init="keyCount=0">
        <!--<section data-ng-controller="UstodosController" ng-keydown="count = count + 4;" ng-init="count=0">-->


        <button ng-click="yyutdact()">Do</button>
        <input focus-on="focusMe"/>

        <div ng-bind='inputbind' ng-init='setCaret()' id='editorhk' ng-keyup='onKeyUpInputField()' ng-keydown='onKeyDownInputField()'></div>

        <div class="hkcssPosFixed">

            <span class="col-md-12">

                <!-- HKACTION - HIT ENTER IN TEXT BOX -->
                <form class="form-horizontal" data-ng-submit="search()" novalidate>
                    <fieldset>
                        <div class="form-group">
                            <br>
                            <div class="controls">


                                <!-- Place this in the body of the page content -->

                                <!--<div>this.commands.length: <span ng-bind="this.commands.length"></span ></div>-->
                                <!--<input type="submit" value="Do" class="btn btn-sm" style="padding:2px;font-size:10px; display:inline">-->
                                <!-- HKACTION - KEY UP IN TEXT BOX -->

                                <input type="text" ng-keyup="onKeyUpInputField()" data-ng-model="commandFromInputBox"
                                       id="idTextInput" class="input-textarea" placeholder="Do" required>
                                <div id="textaread" contenteditable>I look like a textarea</div>
                                &nbsp;

                                <!-- HKACTION - CLICK ACT -->
                                <span class="dev-notes">
                                    <button ng-click="xxutdact()" ng-init="count=0">Do</button>

                                    <!--operators.length:{{operators.length}}-->
                                    <!--&nbsp;-->
                                    <!--<span>Operator is: {{filterCondition.operator}}</span>-->

                                    <select
                                        id='selectId'
                                        ng-change="this.utdEventSelectedEngine()"
                                        ng-model="selectModel"
                                        ng-options="operator.value as operator.displayName for
                                            operator in operators | orderBy:'displayName'"
                                        ng-mouseover="showSelectDropdown()"
                                        class="xxform-control"
                                        ></select>
                                        <!--value="this.selectModel"-->
                                        &nbsp;
                                        <!--<span>Operator is: {{filterCondition.operator}}</span>-->

                                        <!--WORKS!! http://jsfiddle.net/aBccw/-->
                                        <!--<select ng-change="this.selectChangeEvenHandler()"-->
                                        <!--id='selectId'-->
                                        <!--class="xxform-control"-->
                                        <!--ng-model="filterCondition"-->
                                        <!--ng-options="operator.value as operator.displayName for operator in operators | orderBy: 'displayName'">-->
                                        <!--</select>-->
                                        &nbsp;
                                        Dirty: <span ng-bind ='areThereChanges'></span>
                                        <!--areThereChanges2<span ng-bind = {{areThereChanges}}></span>yy-->

                                        <!--<span ng-bind=('('+this.ustodos.length+')')></span >-->
                                        <div>
                                            count: <span ng-bind=('('+this.ustodos.length+')')></span >
                                            <button ng-click="this.buttonClickSearchStar()">*</button>
                                            <!--<button ng-click="this.buttonClickSearchClear()">Clear</button>-->
                                        </div>
                                    </select>

                                </span>

                            </div>
                        </div>
                        <div data-ng-show="error" class="text-danger">
                            <strong data-ng-bind="error"></strong>
                        </div>
                    </fieldset>
                </form>

                <!--<a ng-href="http://u2d.co" target="_blank">UsToDo</a>f-->

                <a ng-href="{{ $scope.post[0]}}">{{ $scope.post[0] }}</a>

                <!--<div ng-bind-html-unsafe='htmlString'></div>f-->

                <!--<button ng-click="count = count + 1" ng-init="count=0">-->
            </span>
        </div>

        <div class="hkcssPosTable">
            <table>
                <!--<tr ng-repeat="ustodo in ustodos ">f-->
                <!--&lt;!&ndash; timeAgo &ndash;&gt;f-->
                <!--<td><span data-ng-bind="UtilDate.timeAgo(ustodo.datelastmod)" title={{UtilDate.dateObjFromMongoString(ustodo.datelastmod).toString()}}></span></td>f-->
                <!--&lt;!&ndash; html &ndash;&gt;f-->
                <!--<td>f-->
                <!--<span contenteditable="true"f-->
                <!--onclick = "this.contentEditable = true;"f-->
                <!--ng-bind-html="ustodos[$index].html"></span>f-->
                <!--</td>f-->
                <!--</tr>f-->

                <!--<tr ng-repeat="ustodo in ustodos | filter:commandUrlQ" ng-keyup="onKeyUp($index)" class='hkcssContentedit'  ng-class-odd="'odd'" ng-class-even="'even'">-->
                <tr
                        ng-mouseover="this.eventMouseoverRow2($index)"
                    ng-repeat="ustodo in ustodos "
                    ng-keyup="event=$event; myFnOnKeyUp($index, $event)" ng-keydown="myFnOnKeyDown($index, $event)"
                    class='hkcssContentedit' ng-class-odd="'odd'" ng-class-even="'even'">

                    <!-- DELETE BUTTON -->
                    <td>
                        <!--<button ng-click="count = count + 1" ng-init="count=0">-->


                        <!-- trash garbage icon -->
                        <img class="per-row-icons-trashimage" ng-src="/img/gnome_edit_delete.png"
                             alt="{{image.name}}"  title='delete'
                             ng-click="deleteDbUstotoById(ustodo)"
                                >

                        <!--ng-show="nowShowing==$index"-->
                        <!--ng-repeat="image in images"-->
                        <!--class="gallery-image fade-animation"-->
                    </td>

                    <!-- SAVE BUTTON -->
                    <td>
                        <!--<button ng-click="count = count + 1" ng-init="count=0">-->
                        <!--<button ng-click="alignAnUstodoWithUstodoHtmlByIndex($index)">SAV</button>-->

                        <!--<img height=15 ng-src="/img/gnome_edit_save.jpg"-->
                        <img class="per-row-icons" ng-src="/img/saveIcon.jpg" title='save'
                             alt="{{image.name}}"
                             ng-click="saveUstodoGiven(ustodo, $index)"
                                >

                    </td>

                    <!-- COUNT -->
                    <!--<td>{{$index+1}} <span data-ng-bind="UtilDate.timeAgo(ustodo.datelastmod)" title={{UtilDate.dateObjFromMongoString(ustodo.datelastmod).toString()}}></span></td>-->


                    <!-- TIME AGO -->
                    <!--<td>&nbsp;<span class="per-row-count" data-ng-bind="UtilDate.timeAgo(ustodo.datelastmod) + ustodo.datelastmod+'.'+ustodo._id"-->
                    <td>&nbsp;<span class="per-row-count" data-ng-bind="UtilDate.timeAgo(ustodo.datelastmod)"
                                    ng-click="event_click_timeAgo(ustodo._id)"
                                    title={{ustodo.datelastmod+'.'+ustodo._id+'ClickForID'}}></span></td>
                    <!--<td>{{ ustodo.text}}</td>f-->


                    <!-- TEXT -->
                    <td>
                    <span id="ustodorow{{$index}}" contenteditable="true"
                      ng-bind-html="ustodos[$index].html | linky:'_blank'"
                       ></span>
                    </td>
                    <!--/onclick = "this.contentEditable = true;"-->

                </tr>
            </table>

            <!--<span data-ng-bind="UtilDate.timeAgo(ustodo.datelastmod)" title={{UtilDate.dateObjFromMongoString(ustodo.datelastmod).toString()}}></span>f-->
            <!--<span id="contentx{{$index}}" contenteditable="true"f-->
            <!--onclick = "this.contentEditable = true;"f-->
            <!--onmouseover="this.contentEditable = false;f-->
            <!--this.ustodo_innerhtmlpre = this.innerHTML;"f-->
            <!--onmouseout = "this.contentEditable = false;f-->
            <!--"f-->
            <!--ng-bind-html="ustodos[$index].html"></span>f-->
            </div>
        </section>
    </div>





